/*!
 *  CliqueUI - v1.0.4 - 2015-10-14
 *  http://ui.cliquestudios.com
 *  Copyright (c) 2015 Clique Studios;
 */

!function(a){if("function"==typeof define&&define.amd&&define("clique-switcher",["clique"],function(){return a(Clique)}),!window.Clique)throw new Error("Clique.switcher requires Clique.core");window.Clique&&a(Clique)}(function(a){var b,c,d;b=a.$,d=function(b,c,d){var e,f,g,h;return g=a.$.Deferred(),e=b,f=b,d[0]===c[0]?(g.resolve(),g.promise()):("object"==typeof b&&(e=b[0],f=b[1]||b[0]),h=function(){return c&&c.hide().removeClass("active "+f+" animation-reverse"),d.addClass(e).one(a.support.animation.end,function(a){return function(){return d.removeClass(""+e).css({opacity:"",display:""}),g.resolve(),c?c.css({opacity:"",display:""}):void 0}}(this)).show()},d.css("animation-duration",this.options.duration+"ms"),c&&c.length?(c.css("animation-duration",this.options.duration+"ms"),c.css("display","none").addClass(f+" animation-reverse").one(a.support.animation.end,function(a){return function(){return h()}}(this)).css("display","")):(d.addClass("active"),h()),g.promise())},a.component("switcher",{defaults:{connect:!1,toggle:">*",active:0,animation:!1,duration:200},animating:!1,boot:function(){return a.ready(function(c){return b("[data-switcher]",c).each(function(){var c,d;d=b(this),d.data("clique.data.switcher")||(c=a.switcher(d,a.utils.options(d.attr("data-switcher"))))})})},init:function(){var a,c,d;if(a=this,this.on("click.clique.switcher",this.options.toggle,function(b){return b.preventDefault(),a.show(this)}),this.options.connect){if(this.connect=b(this.options.connect),this.connect.find(".active").removeClass(".active"),this.connect.length&&(this.connect.children().attr("aria-hidden","true"),this.connect.on("click","[data-switcher-item]",function(c){var d;if(c.preventDefault(),d=b(this).attr("data-switcher-item"),a.index!==d)switch(d){case"next":case"previous":return a.show(a.index+("next"===d?1:-1));default:return a.show(parseInt(d,10))}}).on("swipeRight swipeLeft",function(b){return b.preventDefault(),a.show(a.index+("swipeLeft"===b.type?1:-1))})),d=this.find(this.options.toggle),c=d.filter(".active"),c.length)this.show(c,!1);else{if(this.options.active===!1)return;c=d.eq(this.options.active),this.show(c.length?c:d.eq(0),!1)}return d.not(c).attr("aria-expanded","false"),c.attr("aria-expanded","true"),this.on("changed.clique.dom",function(){a.connect=b(a.options.connect)})}},show:function(e,f){var g,h,i,j;if(!this.animating&&(isNaN(e)?e=b(e):(j=this.find(this.options.toggle),e=0>e?j.length-1:e,e=j.eq(j[e]?e:0)),g=this,j=this.find(this.options.toggle),h=b(e),i=c[this.options.animation]||function(a,b){var e;return g.options.animation?(e=g.options.animation.split(","),1===e.length&&(e[1]=e[0]),e[0]=e[0].trim(),e[1]=e[1].trim(),d.apply(g,[e,a,b])):c.none.apply(g)},f!==!1&&a.support.animation||(i=c.none),!h.hasClass("disabled")))return j.attr("aria-expanded","false"),h.attr("aria-expanded","true"),j.filter(".active").removeClass("active"),h.addClass("active"),this.options.connect&&this.connect.length&&(this.index=this.find(this.options.toggle).index(h),-1===this.index&&(this.index=0),this.connect.each(function(){var c,d,e,f;return d=b(this),c=b(d.children()),e=b(c.filter(".active")),f=b(c.eq(g.index)),g.animating=!0,i.apply(g,[e,f]).then(function(){e.removeClass("active"),f.addClass("active"),e.attr("aria-hidden","true"),f.attr("aria-hidden","false"),a.utils.checkDisplay(f,!0),g.animating=!1})})),this.trigger("show.clique.switcher",[h])}}),c={none:function(){var b;return b=a.$.Deferred(),b.resolve(),b.promise()},fade:function(a,b){return d.apply(this,["animation-fade",a,b])},"slide-bottom":function(a,b){return d.apply(this,["animation-slide-bottom",a,b])},"slide-top":function(a,b){return d.apply(this,["animation-slide-top",a,b])},"slide-vertical":function(a,b,c){var e;return e=["animation-slide-top","animation-slide-bottom"],a&&a.index()>b.index()&&e.reverse(),d.apply(this,[e,a,b])},"slide-left":function(a,b){return d.apply(this,["animation-slide-left",a,b])},"slide-right":function(a,b){return d.apply(this,["animation-slide-right",a,b])},"slide-horizontal":function(a,b,c){var e;return e=["animation-slide-right","animation-slide-left"],a&&a.index()>b.index()&&e.reverse(),d.apply(this,[e,a,b])},scale:function(a,b){return d.apply(this,["animation-scale-up",a,b])}},a.switcher.animations=c});