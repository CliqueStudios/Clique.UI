/*!
 *  CliqueUI - v1.0.4 - 2015-10-14
 *  http://ui.cliquestudios.com
 *  Copyright (c) 2015 Clique Studios;
 */

!function(a){if("function"==typeof define&&define.amd&&define("clique-cover",["clique"],function(){return a(Clique)}),!window.Clique)throw new Error("Clique.cover requires Clique.core");window.Clique&&a(Clique)}(function(a){var b;return b=a.$,a.component("cover",{defaults:{automute:!0},boot:function(){return a.ready(function(c){return b("[data-cover]",c).each(function(){var c,d;c=b(this),c.data("clique.data.cover")||(d=a.cover(c,a.utils.options(c.attr("data-cover"))))})})},init:function(){var b;return this.parent=this.element.parent(),a.$win.on("load resize orientationchange",a.utils.debounce(function(a){return function(){return a.check()}}(this),100)),this.on("display.clique.check",function(a){return function(b){return a.is(":visible")?a.check():void 0}}(this)),this.check(),this.element.is("iframe")&&this.options.automute?(b=this.element.attr("src"),this.element.attr("src","").on("load",function(){return this.contentWindow.postMessage('{ "event" : "command", "func" : "mute", "method" :"setVolume", "value" :0}',"*")}).attr("src",[b,b.indexOf("?")>-1?"&":"?","enablejsapi=1&api=1"].join(""))):void 0},check:function(){var a,b,c,d;return this.element.css({width:"",height:""}),this.dimension={w:this.element.width(),h:this.element.height()},this.element.attr("width")&&!isNaN(this.element.attr("width"))&&(this.dimension.w=this.element.attr("width")),this.element.attr("height")&&!isNaN(this.element.attr("height"))&&(this.dimension.h=this.element.attr("height")),this.ratio=this.dimension.w/this.dimension.h,c=this.parent.width(),a=this.parent.height(),c/this.ratio<a?(d=Math.ceil(a*this.ratio),b=a):(d=c,b=Math.ceil(c/this.ratio)),this.element.css({width:d,height:b})}})});