/*!
 *  CliqueUI - v1.0.4 - 2015-10-14
 *  http://ui.cliquestudios.com
 *  Copyright (c) 2015 Clique Studios;
 */

!function(a){if("function"==typeof define&&define.amd&&define("clique-select",["clique"],function(){return a(Clique)}),!window.Clique)throw new Error("Clique.select requires Clique.core");if(!window.Clique.dropdown)throw new Error("Clique.select requires the Clique.dropdown component");window.Clique&&a(Clique)}(function(a){var b;return b=a.$,a.component("select",{defaults:{inheritClasses:!0},boot:function(){a.$doc.on("ready",function(){b("[data-select]").each(function(){var c,d;c=b(this),c.is("select")?c.data("clique.data.select")||(d=a.select(c)):c.find("select").each(function(){var b;c.data("clique.data.select")||(b=a.select(c))})})})},init:function(){var a;return a=this,this.element.on("clique.select.change",function(b,c,d){return a.updateSelect(c,d)}),this.selectOptions=[],this.element.children("option").each(function(c){return a.selectOptions.push({text:b(this).text(),value:b(this).val()})}),this.template(),this.bindSelect(),setTimeout(function(){return a.select.find(".nav-dropdown li:first-child a").trigger("click")},0)},template:function(){var a,c,d,e,f;return d=[],this.options.inheritClasses&&this.element.attr("class")&&(c=this.element.attr("class").split(" "),b.each(c,function(a){return d.push(c[a])})),d.push("select"),f=this.element.width()+23,this.select=b('<div class="'+d.join(" ")+'" data-dropdown="{mode:\'click\'}" style="width:'+f+'px;" />'),e=this.element.children("option").first(),this.select.append(b('<a href="#" class="select-link"></a>')),this.select.append(b('<div class="dropdown dropdown-scrollable"><ul class="nav nav-dropdown nav-side" /></div>')),a=this,b.each(this.selectOptions,function(c,d){var e;return e=b('<li><a href="#">'+d.text+"</a></li>"),a.select.find(".nav-dropdown").append(e)}),this.element.before(this.select),this.element.hide()},bindSelect:function(){var a;return a=this,this.select.on("click",".nav-dropdown a",function(c){var d,e,f;return c.preventDefault(),d=b(this).parent("li").index(),f=a.selectOptions[d],e={value:f.value,text:f.text},a.element.trigger("clique.select.change",[d,e])})},updateSelect:function(a,b){var c;return this.select.find(".nav-dropdown li").removeClass("active"),c=this.select.find(".nav-dropdown li").eq(a),c.addClass("active"),this.select.children(".select-link").text(b.text),this.element.val(b.value),this.trigger("change")}}),a.select});