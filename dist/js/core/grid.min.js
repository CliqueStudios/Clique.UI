/*!
 *  CliqueUI - v1.0.4 - 2015-10-14
 *  http://ui.cliquestudios.com
 *  Copyright (c) 2015 Clique Studios;
 */

!function(a){if("function"==typeof define&&define.amd&&define("clique-grid",["clique"],function(){return a(Clique)}),!window.Clique)throw new Error("Clique.grid requires Clique.core");window.Clique&&a(Clique)}(function(a){var b,c;b=a.$,c=[],a.component("rowMatchHeight",{defaults:{target:!1,row:!0},boot:function(){return a.ready(function(c){return b("[data-row-match]",c).each(function(){var c,d;c=b(this),c.data("rowMatchHeight")||(d=a.rowMatchHeight(c,a.utils.options(c.attr("data-row-match"))))})})},init:function(){var b;return b=this,this.columns=this.element.children(),this.elements=this.options.target?this.find(this.options.target):this.columns,this.columns.length?(a.$win.on("load resize orientationchange",function(){var c;return c=function(){return b.match()},a.$(function(){return c()}),a.utils.debounce(c,50)}()),a.$html.on("changed.clique.dom",function(a){return b.columns=b.element.children(),b.elements=b.options.target?b.find(b.options.target):b.columns,b.match()}),this.on("display.clique.check",function(a){return function(b){return a.element.is(":visible")?a.match():void 0}}(this)),c.push(this)):void 0},match:function(){var b,c;return b=this.columns.filter(":visible:first"),b.length?(c=Math.ceil(100*parseFloat(b.css("width"))/parseFloat(b.parent().css("width")))>=100,c?this.revert():a.utils.matchHeights(this.elements,this.options),this):void 0},revert:function(){return this.elements.css("min-height",""),this}}),a.component("rowMargin",{defaults:{cls:"row-margin"},boot:function(){return a.ready(function(c){return b("[data-row-margin]",c).each(function(){var c,d;c=b(this),c.data("rowMargin")||(d=a.rowMargin(c,a.utils.options(c.attr("data-row-margin"))))})})},init:function(){var a=this.find("> *").first(),b=parseInt(a.css("padding-left"),10);this.element.css("margin-bottom",-b),this.find("> *").css("margin-bottom",b)}}),a.utils.matchHeights=function(c,d){var e;return c=b(c).css("min-height",""),d=a.$.extend({row:!0},d),e=function(a){var c;if(!(a.length<2))return c=0,a.each(function(){c=Math.max(c,b(this).outerHeight())}).each(function(){return b(this).css("min-height",c)})},d.row?(c.first().width(),setTimeout(function(){var a,d;return d=!1,a=[],c.each(function(){var c,f;c=b(this),f=c.offset().top,f!==d&&a.length&&(e(b(a)),a=[],f=c.offset().top),a.push(c),d=f}),a.length?e(b(a)):void 0},0)):e(c)}});