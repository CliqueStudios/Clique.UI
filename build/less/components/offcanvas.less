// Name:            Off-canvas
//
// Description:     Defines styles for an off-canvas sidebar that slides in and out of the page
//
// Component:       `offcanvas`
//
// Sub-Objects:     `offcanvas-page`
//                  `offcanvas-bar`
//                  `offcanvas-close`
//
// Modifiers:       `offcanvas-bar-flip`
//
// States:          `active`
//
// Uses:            Panel: `panel`
//
// Markup:
// <!-- offcanvas -->
// <a href="#offcanvas" data-offcanvas>Open</a>
// <div id="offcanvas" class="offcanvas">
//     <div class="offcanvas-bar"></div>
// </div>

@import "../mixins/mixins.less";
@import "../variables/variables.less";

// ========================================================================
// Variables
// ========================================================================

@offcanvas-z-index: 1000;
@offcanvas-background: rgba(0, 0, 0, 0.1);

@offcanvas-bar-width: 270px;
@offcanvas-bar-background: #333;

@offcanvas-panel-margin: 20px 15px;
@offcanvas-panel-color: #777;
@offcanvas-panel-link-color: #ccc;
@offcanvas-panel-link-hover-color: @color-white;
@offcanvas-panel-title-color: @offcanvas-panel-link-color;

// ========================================================================
// Component: Off-canvas
// ========================================================================

.offcanvas {
	display: none;
	position: fixed;
	top: 0;
	right: 0;
	bottom: 0;
	left: 0;
	z-index: @offcanvas-z-index;
	touch-action: none;
	background-color: @offcanvas-background;

	&.active {
		display: block;
	}

	// Sub-Object: `offcanvas-page`
	// ========================================================================

	&-page {
		position: fixed;
		.transition(margin-left 300ms ease-in-out);
	}

	// Sub-Object: `offcanvas-bar`
	// ========================================================================

	&-bar {
		position: fixed;
		top: 0;
		bottom: 0;
		left: 0;
		.translate(-100%, 0);
		z-index: @offcanvas-z-index + 1;
		width: @offcanvas-bar-width;
		max-width: 100%;
		background-color: @offcanvas-bar-background;
		overflow-y: auto;
		-webkit-overflow-scrolling: touch;
		.transition(transform 300ms ease-in-out);
		-ms-scroll-chaining: none;

		&:after {
			content: "";
			display: block;
			position: absolute;
			top: 0;
			bottom: 0;
			right: 0;
			width: 1px;
			background-color: rgba(0, 0, 0, 0.6);
			.box-shadow(0 0 5px 2px rgba(0, 0, 0, 0.6));
		}

		// Modifier `offcanvas-bar-flip`
		// ========================================================================

		&-flip {
			left: auto;
			right: 0;
			.translate(100%, 0);
			&:after {
				right: auto;
				left: 0;
				width: 1px;
				background-color: rgba(0, 0, 0, 0.6);
				.box-shadow(0 0 5px 2px rgba(0, 0, 0, 0.6));
			}
		}

		// State: `offcanvas-bar-show`
		// ========================================================================

		&-show {
			.translate(0, 0);
		}
	}

	// Panel in offcanvas
	// ========================================================================

	.panel {
		margin: @offcanvas-panel-margin;
		color: @offcanvas-panel-color;
		a {
			&:not([class]) {
				color: @offcanvas-panel-link-color;
				&:hover {
					color: @offcanvas-panel-link-hover-color;
				}
			}
		}

		&-title {
			color: @offcanvas-panel-title-color;
		}
	}
}
