// Name:            Utility
//
// Description:     Collection of useful utility classes to style your content
//
// Component:       `container-*`
//                  `clearfix`
//                  `float-*`
//                  `align-*`
//                  `vertical-align-*`
//                  `height-*`
//                  `responsive-*`
//                  `margin-*`
//                  `border-*`
//                  `heading-*`
//                  `link-*`
//                  `scrollable-*`
//                  `overflow-container`
//                  `position-*`
//                  `display-*`
//                  `visible-*`
//                  `hidden-*`
//                  `invisible`
//
// Used by:         Overlay

@import "../mixins/mixins.less";
@import "../variables/variables.less";

// ========================================================================
// Variables
// ========================================================================

@utility-container-max-width: 980px;
@utility-container-padding-horizontal: 25px;
@utility-container-large-max-width: 1200px;
@utility-container-large-padding-horizontal: 35px;

@utility-align-horizontal: 15px;
@utility-align-vertical: 15px;

@utility-height-viewport-min-height: 600px;

@utility-margin: 15px;
@utility-margin-small: 5px;
@utility-margin-large: 50px;

@utility-border-rounded: @global-border-radius;

@utility-heading-large-small-font-size: 36px;
@utility-heading-large-small-line-height: 42px;
@utility-heading-large-font-size: 52px;
@utility-heading-large-line-height: 64px;

@utility-link-muted-color: inherit;
@utility-link-muted-hover-color: @utility-link-muted-color;

@utility-scrollable-text-height: 300px;
@utility-scrollable-box-height: 170px;
@utility-scrollable-box-padding: 10px;
@utility-scrollable-box-border: @base-border-color;
@utility-scrollable-box-border-width: 1px;

// ========================================================================
// Rulesets
// ========================================================================

@visible: {
	visibility: visible !important;
};

// ========================================================================
// Component: Utility
// ========================================================================

// Container
// ========================================================================

.container {
	max-width: @utility-container-max-width;
	padding: 0 @utility-container-padding-horizontal;
	.micro-clearfix();

	// Large screen and bigger
	@media (min-width: @breakpoint-xlarge) {
		max-width: @utility-container-large-max-width;
		padding: 0 @utility-container-large-padding-horizontal;
	}

	// Center container
	&-center {
		margin-left: auto;
		margin-right: auto;
	}
}

// Clearing
// ========================================================================

.clearfix{
	.clearfix();
}

// Alignment of block elements
// ========================================================================

// Float blocks
.float {
	&-left,
	&-right {
		max-width: 100%;
	}
	&-left {
		float: left;
	}
	&-right {
		float: right;
	}
}

// Alignment of images and objects
// ========================================================================

// Alignment
[class*="align-"] {
	display: block;
	margin-bottom: @utility-align-vertical;
}
.align {
	&-left {
		margin-right: @utility-align-horizontal;
		float: left;
	}
	&-right {
		margin-left: @utility-align-horizontal;
		float: right;
	}
	&-center {
		margin-left: auto;
		margin-right: auto;
	}

	// Tablet and bigger
	@media (min-width: @breakpoint-medium) {
		&-medium-left {
			margin-right: @utility-align-horizontal;
			margin-bottom: @utility-align-vertical;
			float: left;
		}
		&-medium-right {
			margin-left: @utility-align-horizontal;
			margin-bottom: @utility-align-vertical;
			float: right;
		}
	}
}

// Vertical alignment
// ========================================================================

// Remove whitespace between child elements when using `inline-block`
.vertical-align {
	font-size: 0.001px;

	&:before {
		content: "";
		display: inline-block;
		height: 100%;
		vertical-align: middle;
	}

	&-middle,
	&-bottom {
		display: inline-block;
		max-width: 100%;
		font-size: 1rem;
	}
	&-middle {
		vertical-align: middle;
	}
	&-bottom {
		vertical-align: bottom;
	}
}

// Height
// ========================================================================

// Useful to extend the `html` and `body` element to the full height of the page.
.height {

	&-1-1 {
		height: 100%;
	}

	// Useful to create image teasers
	&-viewport {
		height: 100vh;
		min-height: @utility-height-viewport-min-height;
	}
}

// Responsive objects
// ========================================================================

.responsive {
	&-width {
		max-width: 100% !important;
		height: auto;
	}
	&-height {
		max-height: 100%;
		width: auto;
	}
}

// Margin
// ========================================================================

.margin {
	margin-bottom: @utility-margin;
	* + & {
		margin-top: @utility-margin;
	}

	&-top {
		margin-top: @utility-margin !important;
	}

	&-bottom {
		margin-bottom: @utility-margin !important;
	}

	&-left {
		margin-left: @utility-margin !important;
	}

	&-right {
		margin-right: @utility-margin !important;
	}

	// Larger margins
	&-large {
		margin-bottom: @utility-margin-large;
		* + & {
			margin-top: @utility-margin-large;
		}
	}

	&-large-top {
		margin-top: @utility-margin-large !important;
	}

	&-large-bottom {
		margin-bottom: @utility-margin-large !important;
	}

	&-large-left {
		margin-left: @utility-margin-large !important;
	}

	&-large-right {
		margin-right: @utility-margin-large !important;
	}

	// Smaller margins
	&-small {
		margin-bottom: @utility-margin-small;
		* + & {
			margin-top: @utility-margin-small;
		}
	}

	&-small-top {
		margin-top: @utility-margin-small !important;
	}

	&-small-bottom {
		margin-bottom: @utility-margin-small !important;
	}

	&-small-left {
		margin-left: @utility-margin-small !important;
	}

	&-small-right {
		margin-right: @utility-margin-small !important;
	}

	// Remove margins
	&-remove {
		margin: 0 !important;
	}

	&-top-remove {
		margin-top: 0 !important;
	}

	&-bottom-remove {
		margin-bottom: 0 !important;
	}
}

// Border
// ========================================================================

.border {
	&-circle {
		.border-radius(50%);
	}

	&-rounded {
		.border-radius(@utility-border-rounded);
	}
}

// Headings
// ========================================================================

.heading-large {
	font-size: @utility-heading-large-small-font-size;
	line-height: @utility-heading-large-small-line-height;

	// Tablet and bigger
	@media (min-width: @breakpoint-medium) {
		font-size: @utility-heading-large-font-size;
		line-height: @utility-heading-large-line-height;
	}
}

// Link
// ========================================================================

// Reset link style
.link-reset {
	&,
	a {
		&,
		&:hover {
			color: inherit;
			text-decoration: none;
		}
	}
}

// Scrollable
// ========================================================================

// Enable scrolling for preformatted text
.scrollable {
	&-text {
		height: @utility-scrollable-text-height;
		overflow-y: scroll;
		-webkit-overflow-scrolling: touch;
		resize: both;
	}

	// Box with scrolling enabled
	&-box {
		height: @utility-scrollable-box-height;
		padding: @utility-scrollable-box-padding;
		border: @utility-scrollable-box-border-width solid @utility-scrollable-box-border;
		overflow: auto;
		-webkit-overflow-scrolling: touch;
		resize: both;
		> :last-child {
			margin-bottom: 0;
		}
	}
}

// Overflow
// ========================================================================

// Enable scrollbars if content is clipped
.overflow-container {
	overflow: auto;
	-webkit-overflow-scrolling: touch;
	> :last-child {
		margin-bottom: 0;
	}
}

// Position
// ========================================================================

.position-absolute,
[class*="position-top"],
[class*="position-bottom"] {
	position: absolute !important;
}

.position {

	&-top {
		top: 0;
		width: 100%;

		&-left {
			top: 0;
			left: 0;
		}

		&-right {
			top: 0;
			right: 0;
		}
	}

	&-bottom {
		bottom: 0;
		width: 100%;

		&-left {
			bottom: 0;
			left: 0;
		}

		&-right {
			bottom: 0;
			right: 0;
		}
	}

	// Cover
	&-cover {
		position: absolute;
		top: 0;
		bottom: 0;
		left: 0;
		right: 0;
	}

	// Relative
	&-relative {
		position: relative !important;
	}

}

// Display
// ========================================================================

.display {
	&-block {
		display: block !important;
	}

	&-inline {
		display: inline !important;

		&-block {
			display: inline-block !important;
		}
	}
}


// Visibility
// ========================================================================

// Desktop and bigger
@media (min-width: @breakpoint-large) {
	.visible-small {
		display: none !important;
	}
	.visible-medium {
		display: none !important;
	}
	.hidden-large {
		display: none !important;
	}
}

// Tablets portrait
@media (min-width: @breakpoint-medium) and (max-width: @breakpoint-medium-max) {
	.visible-small {
		display: none !important;
	}
	.visible-large {
		display: none !important;
	}
	.hidden-medium {
		display: none !important;
	}
}

// Phone landscape and smaller
@media (max-width: @breakpoint-small-max) {
	.visible-medium {
		display: none !important;
	}
	.visible-large {
		display: none !important;
	}
	.hidden-small {
		display: none !important;
	}
}

// Remove from the flow and screen readers on any device
.hidden {
	display: none !important;
	visibility: hidden !important;
}

// It's hidden, but still affects layout
.invisible {
	visibility: hidden !important;
}

// Show on hover
.visible-hover {
	&:hover {
		.hidden,
		.invisible {
			display: block !important;
			@visible();
		}
	}

	&-inline {
		&:hover {
			.hidden,
			.invisible {
				display: inline-block !important;
				@visible();
			}
		}
	}
}

// Hide on touch
.touch,
.notouch {
	.hidden-notouch {
		display: none !important;
	}
}
