// Name:            Flex
//
// Description:     Defines styles to create layouts with flexbox
//
// Component:       `flex-*`
//
// Used by:         Caption

@import "../mixins/mixins.less";
@import "../variables/variables.less";

// ========================================================================
// Component: Flex
// ========================================================================

// No Flexbox Support Fallbacks
// ========================================================================

.flex {
	.display(flex);

	.noflex & {
		display: table;
		width: 100%;
	}

	// Modifier: `.flex-inline`
	// ========================================================================

	&-inline {
		.display(inline-flex);

		.noflex & {
			display: inline-table;
			width: auto;
		}
	}

	// Sub-Objects: items
	// ========================================================================

	// Fixes initial flex-shrink value in IE10
	&,
	&-inline {

		// Must remove pseudo-selector values on flex-based elements
		&:before,
		&:after {
			display: none;
		}
		> * {
			.flex(0 1 auto);
			width: auto;
			-ms-flex-negative: 1;
		}

		.noflex & {
			display: table-cell;
			float: none;
		}

	}

	// Alignment
	// ========================================================================

	// Vertical alignment
	&-top {
		.align-items(flex-start);

		.noflex & {
			> * {
				vertical-align: top;
			}
		}
	}

	&-middle {
		.align-items(center);

		.noflex & {
			> * {
				vertical-align: middle;
			}
		}
	}

	&-bottom {
		.align-items(flex-end);

		.noflex & {
			> * {
				vertical-align: bottom;
			}
		}
	}

	&-center {
		.justify-content(center);

		.noflex & {
			width: auto;
			margin-left: auto;
			margin-right: auto;
		}
	}

	&-right {
		.justify-content(flex-end);

		.noflex & {
			width: auto;
			float: right;
		}
	}

	&-space-between {
		.justify-content(space-between);
	}

	&-space-around {
		.justify-content(space-around);
	}

	// Direction
	// ========================================================================

	&-row-reverse {
		.flex-direction(row-reverse);
	}

	&-column {
		.flex-direction(column);
	}

	&-column-reverse {
		.flex-direction(column-reverse);
	}

	// Wrap
	// ========================================================================

	&-wrap {
		.flex-wrap(wrap);
	}

	&-wrap-reverse {
		.flex-wrap(wrap-reverse);
	}

	// Horizontal alignment
	&-wrap-top {
		.align-content(flex-start);
	}

	&-wrap-middle {
		.align-content(center);
	}

	&-wrap-bottom {
		.align-content(flex-end);
	}

	&-wrap-space-between {
		.align-content(space-between);
	}

	&-wrap-space-around {
		.align-content(space-around);
	}

	// Item ordering
	// ========================================================================

	// Default is 0
	&-order-first {
		.order(-1);
	}

	&-order-last {
		.order(99);
	}

	// Item dimensions
	// ========================================================================

	&-item-none {
		.flex(none);
	}

	&-item-auto {
		.flex(auto);
	}

	&-item-1 {
		.flex(1);
	}

}

// Phone landscape and bigger
@media (min-width: @breakpoint-small) {
	.flex-order-first-small {
		.order(-1);
	}
	.flex-order-last-small {
		.order(99);
	}
}

// Tablet and bigger
@media (min-width: @breakpoint-medium) {
	.flex-order-first-medium {
		.order(-1);
	}
	.flex-order-last-medium {
		.order(99);
	}
}

// Desktop and bigger
@media (min-width: @breakpoint-large) {
	.flex-order-first-large {
		.order(-1);
	}
	.flex-order-last-large {
		.order(99);
	}
}

// Large screen and bigger
@media (min-width: @breakpoint-xlarge) {
	.flex-order-first-xlarge {
		.order(-1);
	}
	.flex-order-last-xlarge {
		.order(99);
	}
}
