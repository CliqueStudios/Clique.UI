// Name:            Navbar
//
// Description:     Defines styles for the navigation bar
//
// Component:       `navbar`
//
// Sub-Objects:     `navbar-nav`
//                  `navbar-nav-subtitle`
//                  `navbar-content`
//                  `navbar-brand`
//                  `navbar-toggle`
//                  `navbar-toggle-alt`
//                  `navbar-center`
//                  `navbar-flip`
//
// States:          `active`
//                  `parent`
//                  `open`
//
// Used by:         Dropdown
//
// Markup:
// <!-- navbar -->
// <nav class="navbar">
//     <ul class="navbar-nav">
//         <li class="active"><a href=""></a></li>
//         <li><a href=""></a></li>
//     </ul>
// </nav>

@import "../mixins/mixins.less";
@import "../variables/variables.less";

// ========================================================================
// Variables
// ========================================================================

@navbar-background: #eee;
@navbar-color: @global-body-color;
@navbar-border: 1px solid fade(@color-black, 10%);

@navbar-link-color: @global-link-color;
@navbar-link-hover-color: #059;

@navbar-nav-height: 40px;
@navbar-nav-line-height: @navbar-nav-height;
@navbar-nav-padding-horizontal: 15px;
@navbar-nav-color: @global-body-color;
@navbar-nav-font-size: 14px;
@navbar-nav-hover-background: #f5f5f5;
@navbar-nav-hover-color: #444;
@navbar-nav-onclick-background: #ddd;
@navbar-nav-onclick-color: #444;
@navbar-nav-active-background: #f5f5f5;
@navbar-nav-active-color: #444;
@navbar-nav-subtitle-font-size: 10px;
@navbar-nav-subtitle-offset: 2px;

@navbar-brand-font-size: 18px;
@navbar-brand-color: #444;
@navbar-brand-hover-color: #444;

@navbar-toggle-font-size: 18px;
@navbar-toggle-color: #444;
@navbar-toggle-hover-color: #444;
@navbar-toggle-icon: "\e9bd";
@navbar-toggle-icon-alt: "\e9be";

@navbar-nav-hover-border: rgba(0, 0, 0, 0.1);
@navbar-nav-hover-border-top: rgba(0, 0, 0, 0.1);
@navbar-nav-onclick-border-top: rgba(0, 0, 0, 0.2);

// ========================================================================
// Component: Navbar
// ========================================================================

.navbar {
	background-color: @navbar-background;
	color: @navbar-color;
	border: @navbar-border;
	.micro-clearfix();

	a {
		color: inherit;
	}
	> a {
		&:hover {
			text-decoration: none;
		}
	}

	// Sub-Object: `navbar-nav`
	// ========================================================================

	&-nav {
		margin: 0;
		padding: 0;
		list-style: none;
		float: left;
		> li {
			float: left;
			position: relative;
			> a {
				display: block;
				text-decoration: none;
				height: @navbar-nav-height;
				padding: 0 @navbar-nav-padding-horizontal;
				line-height: unit(@navbar-nav-line-height) / unit(@navbar-nav-font-size);
				margin-top: -1px;
				margin-left: -1px;
				border: 1px solid transparent;
				border-bottom-width: 0;

				// Active State
				&:active {
					background-color: @navbar-nav-onclick-background;
					border-left-color: @navbar-nav-hover-border;
					border-right-color: @navbar-nav-hover-border;
					border-top-color: @navbar-nav-onclick-border-top;
				}
			}

			// Active
			&.active > a {
				background-color: @navbar-nav-active-background;
				border-left-color: @navbar-nav-hover-border;
				border-right-color: @navbar-nav-hover-border;
				border-top-color: @navbar-nav-hover-border-top;
			}

			&:hover > a,
			> a:focus,
			&.open > a {
				background-color: @navbar-nav-hover-background;
				outline: 0;
				position: relative;
				z-index: 1;
				border-left-color: @navbar-nav-hover-border;
				border-right-color: @navbar-nav-hover-border;
				border-top-color: @navbar-nav-hover-border-top;
			}
		}

		// Sub-Object: `navbar-nav-subtitle`
		// ========================================================================

		.navbar-nav-subtitle {
			line-height: unit(@navbar-nav-line-height - @navbar-nav-subtitle-font-size - @navbar-nav-subtitle-offset) / unit(@navbar-nav-font-size);
			> div {
				margin-top: ((@navbar-nav-line-height - @navbar-nav-subtitle-font-size - @navbar-nav-font-size) / -2) + @navbar-nav-subtitle-offset;
				font-size: @navbar-nav-subtitle-font-size;
				line-height: unit(@navbar-nav-subtitle-font-size + @navbar-nav-subtitle-offset) / unit(@navbar-nav-subtitle-font-size);
			}
		}
	}

	// Sub-Objects: `navbar-content`, `navbar-brand`, `navbar-toggle`
	// ========================================================================

	// Imitate navbar items
	&-content,
	&-brand,
	&-toggle {
		display: block;
		height: @navbar-nav-height;
		padding: 1px @navbar-nav-padding-horizontal;
		float: left;
		margin-top: -1px;

		.container > & {
			padding-left: 0;
			padding-right: 0;
		}

		&:before {
			content: "";
			display: inline-block;
			height: 100%;
			vertical-align: middle;
		}
	}


	// Sub-Objects: `navbar-content`
	// ========================================================================

	// Better sibling spacing
	&-content {
		+ .navbar-content {
			&:not(.navbar-center) {
				padding-left: 0;
			}
		}

		// Link colors
		> a {
			&:not([class]) {
				color: @navbar-link-color;
				&:hover {
					color: @navbar-link-hover-color;
				}
			}
		}
	}


	// Sub-Objects: `navbar-brand`
	// ========================================================================

	&-brand {
		font-size: @navbar-brand-font-size;
		line-height: unit(@navbar-nav-line-height) / unit(@navbar-brand-font-size);
	}


	// Sub-Object: `navbar-toggle`
	// ========================================================================

	&-toggle {
		font-size: @navbar-toggle-font-size;

		&:after {
			content: @navbar-toggle-icon;
			font-family: "icomoon";
			vertical-align: middle;
		}
	}

	&-toggle-alt {
		&:after {
			content: @navbar-toggle-icon-alt;
		}
	}

	// Sub-Object: `navbar-center`
	// ========================================================================

	// The element with this class needs to be last child in the navbar
	&-center {
		float: none;
		text-align: center;
		max-width: 50%;
		margin-left: auto;
		margin-right: auto;
	}

	// Sub-Object: `navbar-flip`
	// ========================================================================

	&-flip {
		float: right;
		margin-right: -1px;

		// Collapse border
		.navbar-nav {
			> li {
				> a {
					margin-left: 0;
					margin-right: -1px;
				}
			}
		}
	}
}
