// Name:            Button
//
// Description:     Defines styles for buttons
//
// Component:       .button`
//
// Sub-Objects:     .button-group`
//                  .button-dropdown`
//
// Modifiers:       .button-block`
//                  .button-primary`
//                  .button-success`
//                  .button-danger`
//                  .button-link`
//                  .button-mini`
//                  .button-small`
//                  .button-large`
//
// States:          `active`
//                  `disabled`
//
// Markup:
// <!-- button-group -->
// <div class=.button-group">
//     <button class=.button"></button>
//     <button class=.button"></button>
// </div>
//
// <!-- button-dropdown -->
// <div class=.button-dropdown" data-dropdown>
//     <button class=.button"></button>
//     <div class="dropdown dropdown-small">
//         <ul class="nav nav-dropdown">
//             <li><a href=""></a></li>
//         </ul>
//     </div>
// </div>

@import "../mixins/mixins.less";
@import "../variables/variables.less";

// ========================================================================
// Variables
// ========================================================================

@button-height: 30px;
@button-mini-height: 20px;
@button-small-height: 25px;
@button-large-height: 40px;

@button-line-height: 28px;
@button-mini-line-height: 20px;
@button-small-line-height: 25px;
@button-large-line-height: 40px;

@button-mini-font-size: 11px;
@button-small-font-size: 12px;
@button-large-font-size: 16px;

@button-padding-horizontal: 12px;
@button-mini-padding-horizontal: 6px;
@button-small-padding-horizontal: 10px;
@button-large-padding-horizontal: 15px;

@button-font-size: 1rem;
@button-background: #eee;
@button-color: #444;

@button-hover-background: darken(@button-background, 4%);
@button-hover-color: #444;

@button-active-background: darken(@button-background, 4%);
@button-active-color: #444;

@button-primary-background: @color-primary-background;
@button-primary-color: @color-white;
@button-primary-hover-background: darken(@button-primary-background, 4%);
@button-primary-hover-color: @color-white;
@button-primary-active-background: darken(@button-primary-background, 2%);
@button-primary-active-color: @color-white;

@button-success-background: @color-success-background;
@button-success-color: @color-white;
@button-success-hover-background: darken(@button-success-background, 4%);
@button-success-hover-color: @color-white;
@button-success-active-background: darken(@button-success-background, 2%);
@button-success-active-color: @color-white;

@button-danger-background: @color-danger-background;
@button-danger-color: @color-white;
@button-danger-hover-background: darken(@button-danger-background, 4%);
@button-danger-hover-color: @color-white;
@button-danger-active-background: darken(@button-danger-background, 2%);
@button-danger-active-color: @color-white;

@button-disabled-background: #f5f5f5;
@button-disabled-color: #999;

@button-link-color: @global-link-color;
@button-link-hover-color: #059;
@button-link-hover-text-decoration: underline;
@button-link-disabled-color: #999;

// New
@button-border-width: 1px;
@button-border: rgba(0, 0, 0, 0.06);
@button-hover-border: rgba(0, 0, 0, 0.16);

// ========================================================================
// Component: Button
// ========================================================================

.button {
	margin: 0;
	border: none;
	overflow: visible;
	font: inherit;
	color: @button-color;
	display: inline-block;
	padding: 0 @button-padding-horizontal;
	background-color: @button-background;
	vertical-align: middle;
	line-height: @button-line-height;
	height: (@button-height - (@button-border-width * 2));
	font-size: @button-font-size;
	text-decoration: none;
	text-align: center;
	border: @button-border-width solid @button-border;

	&:not(:disabled),
	&:not(.disabled) {
		cursor: pointer;
	}

	&:hover,
	&:focus {
		background-color: @button-hover-background;
		color: @button-hover-color;
		outline: 0;
		text-decoration: none;
		border-color: @button-hover-border;
	}

	&:active,
	&.active {
		background-color: @button-active-background;
		color: @button-active-color;
		border-color: rgba(0, 0, 0, .3) rgba(0, 0, 0, .2) rgba(0, 0, 0, .2);
		.box-shadow(inset 0 2px 4px rgba(0, 0, 0, .1));
	}

	&::-moz-focus-inner {
		border: 0;
		padding: 0;
	}

	&:disabled,
	&.disabled {
		background-color: @button-disabled-background !important;
		color: @button-disabled-color !important;
		border-color: rgba(0, 0, 0, 0.06);
		.box-shadow(none);
	}


	// Modifier: .button-block`
	// ========================================================================

	&-block {
		display: block;
		width: 100%;
	}

	// Modifier: .button-primary`
	// ========================================================================

	&-primary {
		background-color: @button-primary-background;
		color: @button-primary-color;

		&:hover,
		&:focus {
			background-color: @button-primary-hover-background;
			color: @button-primary-hover-color;
		}

		&:active,
		&.active {
			background-color: @button-primary-active-background;
			color: @button-primary-active-color;
			border-color: rgba(0, 0, 0, .4) rgba(0, 0, 0, .2) rgba(0, 0, 0, .2);
			.box-shadow(inset 0 2px 4px rgba(0, 0, 0, .2));
		}
	}

	// Modifier: .button-success`
	// ========================================================================

	&-success {
		background-color: @button-success-background;
		color: @button-success-color;

		&:hover,
		&:focus {
			background-color: @button-success-hover-background;
			color: @button-success-hover-color;
		}

		&:active,
		&.active {
			background-color: @button-success-active-background;
			color: @button-success-active-color;
			border-color: rgba(0, 0, 0, .4) rgba(0, 0, 0, .2) rgba(0, 0, 0, .2);
			.box-shadow(inset 0 2px 4px rgba(0, 0, 0, .2));
		}
	}

	// Modifier: .button-danger`
	// ========================================================================

	&-danger {
		background-color: @button-danger-background;
		color: @button-danger-color;

		&:hover,
		&:focus {
			background-color: @button-danger-hover-background;
			color: @button-danger-hover-color;
		}

		&:active,
		&.active {
			background-color: @button-danger-active-background;
			color: @button-danger-active-color;
			border-color: rgba(0, 0, 0, .4) rgba(0, 0, 0, .2) rgba(0, 0, 0, .2);
			.box-shadow(inset 0 2px 4px rgba(0, 0, 0, .2));
		}
	}

	// Modifier: .button-link`
	// ========================================================================

	// Reset
	&-link {
		color: @button-link-color;
		.box-shadow(none);

		&,
		&:hover,
		&:focus,
		&:active,
		&.active,
		&:disabled {
			border-color: transparent;
			background-color: transparent;
		}

		&:hover,
		&:focus,
		&:active,
		&.active {
			color: @button-link-hover-color;
			text-decoration: @button-link-hover-text-decoration;
		}

		&:disabled {
			color: @button-link-disabled-color;
			.box-shadow(none);
		}

		&:focus {
			outline: 1px dotted;
		}
	}

	// Size modifiers
	// ========================================================================

	&-mini {
		height: @button-mini-height;
		padding: 0 @button-mini-padding-horizontal;
		line-height: @button-mini-line-height;
		font-size: @button-mini-font-size;
	}

	&-small {
		height: @button-small-height;
		padding: 0 @button-small-padding-horizontal;
		line-height: @button-small-line-height;
		font-size: @button-small-font-size;
	}

	&-large {
		height: @button-large-height;
		padding: 0 @button-large-padding-horizontal;
		line-height: @button-large-line-height;
		font-size: @button-large-font-size;
	}


	// Sub-Object .button-group`
	// ========================================================================

	&-group {
		display: inline-block;
		vertical-align: middle;
		position: relative;
		font-size: 0.001px;
		white-space: nowrap;

		> * {
			display: inline-block;

			+ * {
				margin-left: -1px;
			}
		}

		.button,
		button,
		input[type="submit"],
		input[type="button"] {
			vertical-align: top;
			z-index: 1;
			position: relative;

			&:hover,
			&:focus,
			&:active {
				z-index: 2;
			}

			&.active {
				z-index: 3;
			}
		}
	}

	// Sub-Object: .button-dropdown`
	// ========================================================================

	&-dropdown {
		display: inline-block;
		vertical-align: middle;
		position: relative;
	}
}

button,
input[type="submit"],
input[type="button"] {
	&:extend(.button);
}
